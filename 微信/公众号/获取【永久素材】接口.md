【2019.11.21】以下内容整理自[【Node微信公众号开发 - 定时获取最新文章同步到MySQL数据库】](https://www.ucloud.cn/yun/95835.html)

---
---

# 获取【永久素材】接口

打开【开发】-【基本配置】

![图片](https://segmentfault.com/img/remote/1460000015441411?w=266&h=329?0.614977099439431)

![图片](https://segmentfault.com/img/remote/1460000015441412?w=1611&h=1026?0.8160972186283699)

> 在【基本配置】里，我们主要需要配置【开发者密码(AppSecret)】和【IP白名单】
>> 因为我们在调用微信公众平台的接口之前需要获取 `access_token` ，在调用接口时 `access_token` 传递过去

## 开发者密码(AppSecret)

![图片](https://segmentfault.com/img/remote/1460000015441413?w=1392&h=292?0.4312964055608175)

## 【IP白名单】配置

IP白名单：限制微信公众平台接口调用的IP

- 你要想调用微信开发者平台的接口，你就必须把调用接口机器的公网IP配置到【IP白名单】里

![图片](https://segmentfault.com/img/remote/1460000015441418?w=733&h=628?0.48384209484820184)

上图我把 `47.50.55.11` 这台机器配置到【IP白名单】里，这样 `47.50.55.11` 这台机器就可以调用微信公众平台的相关接口了

## 获取 `access_token`

`access_token` 是公众号的全局唯一接口调用凭据，公众号调用各接口时都需使用 `access_token`

- 公众号可以使用 `AppID` 和 `AppSecret` 调用本接口来获取 `access_token`

  `AppID` 和 `AppSecret` 可在【微信公众平台】-【开发】-【基本配置】页中获得（需要已经成为开发者，且帐号没有异常状态）

- 调用接口时，请登录【微信公众平台】-【开发】-【基本配置】提前将服务器IP地址添加到【IP白名单】中，点击查看设置方法，否则将无法调用成功

- 获取 `access_token` 每日调用上限是 `2000` 次，具体情况可以在【开发】-【接口权限】中查看，在这里可以查看到所有接口

![图片](https://segmentfault.com/img/remote/1460000015441419?w=1246&h=1027?0.5075882227625521)

[【更多内容点击了解】](https://www.ucloud.cn/yun/95835.html)
