## 安装 VMware Tools

`VMware Tools` 是必须要装的，否则无法执行后面的操作

> 切记：在虚拟机登录前，去打开 **`虚拟机`** - **`安装 VMware Tools`** 选项，否则进入系统后此选项是灰色无法点击的

- 点击 **`安装 VMware Tools`** 选项后，进入正常操作登录系统即可

  - 应该会弹出一条警告信息，大致意思就是让我们进入系统后在桌面上装载 `VMware Tools` 的光盘文件，不用管它

- 进入系统桌面后，打开出现的 `VMware Tools` 光盘，**`右键`** - **`打开`** 即可，把它当作是一个压缩包文件操作即可

- 对这个光盘内的文件进行解压缩操作，然后在里面找到类似 `VMware Tools.exe` 的可执行文件，打开进行安装即可

- 对出现的提示不必犹豫，一直 `yes` 即可

## 进行虚拟机菜单处设置 **`文件夹共享`**

在 `VMware` 虚拟机的工具菜单上找到并打开 **`虚拟机`** - **`设置`** - **`选项`** ，找到 **`共享文件夹`**

- **`文件夹共享`** 推荐设置为 **`总是启用`** ，可自行决定

- 在 **`文件夹`** 处下面的 **`添加`** 按钮处进行添加操作

> 在这里添加的是此文件夹下的所有文件进行共享，不是指共享此文件夹

## 在虚拟机系统中设置共享

此时，我们已经成功共享了文件夹，虚拟机系统内也应该能查找到，但并未显示出来

- 进入终端，如后续操作命令行有权限问题，请自行添加 `sudo` 前缀获取管理员权限，或执行 `sudo su` 直接获取管理员权限进行后续操作

- 终端输入 `vmware-hgfsclient` 可查询到我们已经设置的共享文件夹名称，如我们设置为 `gogogo` (后续会用到这个文件夹名)

- 最重要的一步，执行挂载命令，在终端输入 `vmhgfs-fuse .host:/gogogo /mnt/hgfs`

  - 此时无报错即是成功

  - 此行命令表示，我们把共享文件夹 `gogogo` 内的文件挂载到 `/mnt/hgfs` 文件夹之下

  - `hgfs` 文件夹名称是固定的，请不要更改

- 此时我们已经可以看到 `/mnt/hgfs` 文件夹内出现了我们共享的内容，如果是共享的空文件夹，请自行测试

  - 但你很快会发现，或许执行前面挂载命令的时候就已经报错了，大意是 **`权限不足，无法写入文件`** 之类的提示

  - 此时，长远的做法是给 `hgfs` 文件夹 `777` 的操作权限，进入 `mnt` 文件夹打开终端执行命令 `sudo chmod 777 hgfs` 即可

## 扩展：设置系统登录后自动挂载共享文件的命令

很快，你又会发现每次重启系统后都需要重新执行挂载命令，否则共享文件不显示

- 要解决这个问题，可把挂载命令放在新建的 `.me_profile` 文件里面，文件内容如下( `#` 表示忽略此行，不会被执行，相当于注释，起到备注的作用)：

```
# VM 共享文件夹设置
vmhgfs-fuse .host:/gogogo /mnt/hgfs
```

- 然后剪切 `.me_profile` 文件到图形界面的 **`主目录`** 文件夹(我们的用户根目录)或终端里 `~` 文件夹(我们的用户根目录)

- 如果看不到文件，可使用 `CTRL + H` 显示隐藏文件(带有前缀 `.` 的文件及文件夹默认是隐藏状态的)

-  `.me_profile` 文件转移完成后，找到 **`主目录`** 文件夹或终端里 `~` 文件夹下的 `.profile` 文件，打开并在文件末尾空一行并添加 `source ./.me_profile` ，这样每次在系统进行登录后会自动加载并执行一次挂载共享文件的命令

> 扩展：在 `~/.profile` 文件里的命令会在系统登录时加载，而在 `~/.bashrc` 文件里的命令会在打开终端时加载
>> [【相关资料：`~/.profile` 、`~/.bashrc` 和 `~/.bash_profile` 的理解】](https://www.jianshu.com/p/b39fd35e2360)
