<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>获取月份</title>
</head>

<body>

</body>

</html>
<script>
  getM(12)

  function getM(n) {
    // 阻止月份超过 12
    if (n > 12) {
      document.body.innerHTML = '呵，你怕不是要炸了？？？'
      return;
    }

    // 获取月份
    let date = new Date(2019, n - 1, 1);
    // 获取月初第一天为周几
    let week = date.getDay();

    //// 添加月份第一周的数据
    // 当月初第一天为周日
    if (week == 0) {
      week = 7;
    }
    let weekZ = 7 - week + 1;
    // 当月初第一天不为周一
    if (week != 1) {
      for (i = 0; i < week - 1; i++) {
        document.body.innerHTML += ' - ';
      }
      for (i = 0; i < weekZ; i++) {
        document.body.innerHTML += ' ' + (i + 1);
      }
    }
    // 当月初第一天为周一
    if (week == 1) {
      week = 0;
      weekZ = 0;
    }

    // 添加月份其他周的数据
    if (week == 7) {
      week = 1;
    }
    let date2 = new Date(2019, n - 1, weekZ + 1);
    for (i = weekZ + 1; i < 100; i++) {
      if (weekZ + 1 == 1) {
        if (i % 7 == 0) {
          document.body.innerHTML += ' ' + i + '<br />';
        } else {
          document.body.innerHTML += ' ' + i;
        }
      } else if (weekZ + 1 == 7) {
        if (i % 7 == 0) {
          document.body.innerHTML += '<br />' + ' ' + i;
        } else {
          document.body.innerHTML += ' ' + i;
        }
      } else {
        if (i % 7 == weekZ + 1) {
          document.body.innerHTML += '<br />' + ' ' + i;
        } else {
          document.body.innerHTML += ' ' + i;
        }
      }

      // 循环到下个月1号时停止
      if (n == 12) {
        if (new Date(2019, n - 1, i + 1).getMonth() == 0) {
          console.log(i, '+i');
          break;
        }
      } else {
        if (new Date(2019, n - 1, i + 1).getMonth() == n) {
          console.log(i, '+i');
          break;
        }
      }
    }

    console.log(new Date(2019, n - 1, 29).getMonth(), '+true?');
  }

// 一条优化代码的建议
// 一种获取月份有多少天的方法：
// new Date(2019,9,0).getDate()
// 可以获取上个月 9 月份有多少天
</script>