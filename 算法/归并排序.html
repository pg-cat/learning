<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>归并排序</title>
</head>

<body>
    <h1>归并排序</h1>
    <p>归并排序（Merge sort）是建立在归并操作上的一种有效的排序算法。该算法是采用分治法（Divide and Conquer）的一个非常典型的应用。</p>
    <p>作为一种典型的分而治之思想的算法应用，归并排序的实现由两种方法：</p>
    <ol>
        <li>自上而下的递归（所有递归的方法都可以用迭代重写，所以就有了第 2 种方法）</li>
        <li>自下而上的迭代</li>
    </ol>
    <p>在《数据结构与算法 JavaScript 描述》中，作者给出了自下而上的迭代方法。但是对于递归法，作者却认为：</p>
    <p style="margin: 0 10px;padding: 10px;background-color: #eee;">However, it is not possible to do so in JavaScript, as the recursion goes too deep for the language to handle.<br />然而，在 JavaScript 中这种方式不太可行，因为这个算法的递归深度对它来讲太深了。
    </p>
    <p>和选择排序一样，归并排序的性能不受输入数据的影响，但表现比选择排序好的多，因为始终都是 O(nlogn) 的时间复杂度。代价是需要额外的内存空间。</p>
    <h2>1.算法步骤</h2>
    <ol>
        <li>申请空间，使其大小为两个已经排序序列之和，该空间用来存放合并后的序列；</li>
        <li>设定两个指针，最初位置分别为两个已经排序序列的起始位置；</li>
        <li>比较两个指针所指向的元素，选择相对小的元素放入到合并空间，并移动指针到下一位置；</li>
        <li>重复步骤 3 直到某一指针达到序列尾；</li>
        <li>将另一序列剩下的所有元素直接复制到合并序列尾。</li>
    </ol>
    <h2>2.动图演示</h2>
    <img src="https://www.runoob.com/wp-content/uploads/2019/03/mergeSort.gif" />
    <h2>3.代码实现</h2>
    <p>示例：[3,11,3,2,15,66,9,13,22,51,1]</p>
    <h3>排序中……</h3>
    <div>结果：</div>
    <hr>
    <a href="https://www.runoob.com/w3cnote/merge-sort.html" style="color: black;">更多了解可点击前往[菜鸟教程]</a>
</body>

</html>
<script>

    // 归并排序方法
    function mergeSort(arr) {  // 采用自上而下的递归方法
        var len = arr.length;
        if (len < 2) {
            return arr;
        }
        var middle = Math.floor(len / 2),
            left = arr.slice(0, middle),
            right = arr.slice(middle);
        return merge(mergeSort(left), mergeSort(right));
    }

    function merge(left, right) {
        var result = [];

        while (left.length && right.length) {
            if (left[0] <= right[0]) {
                result.push(left.shift());
            } else {
                result.push(right.shift());
            }
        }

        while (left.length)
            result.push(left.shift());

        while (right.length)
            result.push(right.shift());

        return result;
    }

    // 获取节点
    let div = document.getElementsByTagName('div')[0];
    // 示例值
    let arr = [3, 11, 3, 2, 15, 66, 9, 13, 22, 51, 1];

    // 排序中
    arr = mergeSort(arr);

    // 把值传到页面
    div.innerHTML += JSON.stringify(arr);

</script>